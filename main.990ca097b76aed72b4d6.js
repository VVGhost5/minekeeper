(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t),n.d(t,"refs",(function(){return v})),n.d(t,"objects",(function(){return b})),n.d(t,"Click",(function(){return y}));n("L1EO");var a=function e(){var t=Math.floor(Math.random()*Math.floor(b.arrayOfPoints.length));return b.arrayOfPoints[t].isMine?e():t},i=function(){a(),b.arrayOfPoints[a()].isMine=!0},s=function(e,t,n,a,i,s){this.position=e,this.value=t,this.isMine=n,this.isFlag=a,this.isOpened=i,this.isDefused=s},o=(n("lYjL"),n("lmye"),function(e){var t={LeftTop:e.position-21,CenterTop:e.position-20,RightTop:e.position-19,LeftCenter:e.position-1,RightCenter:e.position+1,LeftBottom:e.position+19,CenterBottom:e.position+20,RightBottom:e.position+21},n=function(e){b.arrayOfPoints[e]&&(b.arrayOfPoints[e].isMine||b.arrayOfPoints[e].value++)};e.position%20==0||e.position-1==0?(n(t.CenterTop),n(t.RightTop),n(t.RightCenter),n(t.CenterBottom),n(t.RightBottom)):(n(t.LeftTop),n(t.CenterTop),n(t.RightTop),n(t.LeftCenter),n(t.RightCenter),n(t.LeftBottom),n(t.CenterBottom),n(t.RightBottom))}),r=function(){b.bombs=b.arrayOfPoints.filter((function(e){return!0===e.isMine})),b.bombs.map((function(e){o(e)}))},u=function(e){if(!b.arrayOfPoints[e.target.dataset.value].isFlag&&!b.arrayOfPoints[e.target.dataset.value].isOpened&&!(b.flagsUsed>=b.bombs.length)&&(v.gameFieldRef.children[e.target.dataset.value].textContent="F",b.arrayOfPoints[e.target.dataset.value].isFlag=!0,b.flagsUsed++,v.menuFlagsRef.textContent=b.flagsUsed,b.arrayOfPoints[e.target.dataset.value].isFlag&&b.arrayOfPoints[e.target.dataset.value].isMine)){if(b.arrayOfPoints[e.target.dataset.value].isDefused)return;return b.bombsDefused.push(b.arrayOfPoints[e.target.dataset.value]),void(b.arrayOfPoints[e.target.dataset.value].isDefused=!0)}},f=function(e){v.gameFieldRef.children[e.target.dataset.value].textContent=b.arrayOfPoints[e.target.dataset.value].value,v.gameFieldRef.children[e.target.dataset.value].classList.add("color_"+b.arrayOfPoints[e.target.dataset.value].value)},l=function(){return b.point=document.createElement("div"),v.gameFieldRef.appendChild(b.point),b.point.classList.add("point"),b.point},d=function(e){b.arrayOfPoints[e.target.dataset.value].isDefused&&(b.arrayOfPoints[e.target.dataset.value].isDefused=!1,b.bombsDefused.pop())},m=function(){alert("Чтобы поставить флаг, нажмите Ctrl + ЛКМ")},g=function(){b.bombsDefused.length===b.bombs.length&&(clearInterval(b.newTimer),v.menuStatusRef.textContent="You win !",v.gameFieldRef.removeEventListener("click",y))},c=function(){b.newTimer=setInterval((function(){b.timerValue++,v.menuTimerRef.textContent=b.timerValue,g()}),1e3)},p=function(){clearInterval(b.newTimer),b.bombs.map((function(e){v.gameFieldRef.children[e.position].classList.add("isBomb")})),v.menuStatusRef.textContent="You lose !",v.gameFieldRef.removeEventListener("click",y)},v={gameFieldRef:document.getElementById("game-field"),menuStatusRef:document.getElementById("menu__status"),menuTimerRef:document.getElementById("menu__timer"),menuButtonRef:document.getElementById("menu__prompt-button"),menuMinesRef:document.getElementById("menu__mines-select"),menuFlagsRef:document.getElementById("menu__flags")},b={newTimer:null,timerValue:0,bombsDefused:[],bombs:[],minesDropped:!1,bombsQuantity:0,point:0,numberofPoints:220,arrayOfPoints:[],flagsUsed:0};v.menuStatusRef.textContent="";!function(e){for(var t=0;t<e;t++){var n=new s(t,0,!1,!1,!1,!1);b.arrayOfPoints.push(n)}}(b.numberofPoints),function(e,t){for(var n=0;n<t;n++)e(n).setAttribute("data-value",n)}(l,b.numberofPoints);var y=function(e){return d(e),e.ctrlKey?u(e):b.arrayOfPoints[e.target.dataset.value].isFlag?(b.arrayOfPoints[e.target.dataset.value].isFlag=!1,b.flagsUsed--,v.menuFlagsRef.textContent=b.flagsUsed,v.gameFieldRef.children[e.target.dataset.value].textContent=""):(b.minesDropped||(b.bombsQuantity=v.menuMinesRef.value,v.menuMinesRef.setAttribute("disabled","disabled"),function(e,t){for(var n=0;n<t;n++)e(n)}(i,b.bombsQuantity),r(),b.minesDropped=!0,c()),b.arrayOfPoints[e.target.dataset.value].isOpened?void 0:b.arrayOfPoints[e.target.dataset.value].isMine?void p():(v.gameFieldRef.children[e.target.dataset.value].classList.add("isOpened"),b.arrayOfPoints[e.target.dataset.value].isOpened=!0,f(e)))};v.gameFieldRef.addEventListener("click",y),v.menuButtonRef.addEventListener("click",m)}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.990ca097b76aed72b4d6.js.map