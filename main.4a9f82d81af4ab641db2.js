(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t),n.d(t,"refs",(function(){return R})),n.d(t,"objects",(function(){return O})),n.d(t,"Click",(function(){return P})),n.d(t,"multiplyBombs",(function(){return h}));n("L1EO");var a=function(e,t,n,a,i,o){this.position=e,this.value=t,this.isMine=n,this.isFlag=a,this.isOpened=i,this.isDefused=o},i=function(e){if(!O.arrayOfPoints[e.target.dataset.value].isFlag&&!O.arrayOfPoints[e.target.dataset.value].isOpened&&!(O.flagsUsed>=O.bombs.length)&&(R.gameFieldRef.children[e.target.dataset.value].textContent="F",O.arrayOfPoints[e.target.dataset.value].isFlag=!0,O.flagsUsed++,R.menuFlagsRef.textContent=O.flagsUsed,O.arrayOfPoints[e.target.dataset.value].isFlag&&O.arrayOfPoints[e.target.dataset.value].isMine)){if(O.arrayOfPoints[e.target.dataset.value].isDefused)return;return O.bombsDefused.push(O.arrayOfPoints[e.target.dataset.value]),void(O.arrayOfPoints[e.target.dataset.value].isDefused=!0)}},o=function(e){R.gameFieldRef.children[e.target.dataset.value].textContent=O.arrayOfPoints[e.target.dataset.value].value,R.gameFieldRef.children[e.target.dataset.value].classList.add("color_"+O.arrayOfPoints[e.target.dataset.value].value)},s=function(e){return R.gameFieldRef.children[e.target.dataset.value].classList.add("isOpened"),O.arrayOfPoints[e.target.dataset.value].isOpened=!0,o(e)},r=function(){return O.point=document.createElement("div"),R.gameFieldRef.appendChild(O.point),O.point.classList.add("point"),O.point},u=function(e){O.arrayOfPoints[e.target.dataset.value].isDefused&&(O.arrayOfPoints[e.target.dataset.value].isDefused=!1,O.bombsDefused.pop())},f=function(e){return O.arrayOfPoints[e.target.dataset.value].isFlag=!1,O.flagsUsed--,R.menuFlagsRef.textContent=O.flagsUsed,R.gameFieldRef.children[e.target.dataset.value].textContent=""},l=function(){alert("Чтобы поставить флаг, нажмите Ctrl + ЛКМ")},d=function e(){var t=Math.floor(Math.random()*Math.floor(O.arrayOfPoints.length));return O.arrayOfPoints[t].isMine?e():t},m=function(){d(),O.arrayOfPoints[d()].isMine=!0},g=function(){O.bombsDefused.length===O.bombs.length&&(clearInterval(O.newTimer),R.menuStatusRef.textContent="You win !",R.gameFieldRef.removeEventListener("click",P))},c=function(){O.newTimer=setInterval((function(){O.timerValue++,R.menuTimerRef.textContent=O.timerValue,g()}),1e3)},p=(n("lYjL"),n("lmye"),function(e){var t={LeftTop:e.position-21,CenterTop:e.position-20,RightTop:e.position-19,LeftCenter:e.position-1,RightCenter:e.position+1,LeftBottom:e.position+19,CenterBottom:e.position+20,RightBottom:e.position+21},n=function(e){O.arrayOfPoints[e]&&(O.arrayOfPoints[e].isMine||O.arrayOfPoints[e].value++)};e.position%20==0||e.position-1==0?(n(t.CenterTop),n(t.RightTop),n(t.RightCenter),n(t.CenterBottom),n(t.RightBottom)):(n(t.LeftTop),n(t.CenterTop),n(t.RightTop),n(t.LeftCenter),n(t.RightCenter),n(t.LeftBottom),n(t.CenterBottom),n(t.RightBottom))}),v=function(){O.bombs=O.arrayOfPoints.filter((function(e){return!0===e.isMine})),O.bombs.map((function(e){p(e)}))},b=function(){O.bombsQuantity=R.menuMinesRef.value,R.menuMinesRef.setAttribute("disabled","disabled"),h(m,O.bombsQuantity),v(),O.minesDropped=!0,c()},y=function(){clearInterval(O.newTimer),O.bombs.map((function(e){R.gameFieldRef.children[e.position].classList.add("isBomb")})),R.menuStatusRef.textContent="You lose !",R.gameFieldRef.removeEventListener("click",P)},R={gameFieldRef:document.getElementById("game-field"),menuStatusRef:document.getElementById("menu__status"),menuTimerRef:document.getElementById("menu__timer"),menuButtonRef:document.getElementById("menu__prompt-button"),menuMinesRef:document.getElementById("menu__mines-select"),menuFlagsRef:document.getElementById("menu__flags")},O={newTimer:null,timerValue:0,bombsDefused:[],bombs:[],minesDropped:!1,bombsQuantity:0,point:0,numberofPoints:220,arrayOfPoints:[],flagsUsed:0};R.menuStatusRef.textContent="";var h=function(e,t){for(var n=0;n<t;n++)e(n)};!function(e){for(var t=0;t<e;t++){var n=new a(t,0,!1,!1,!1,!1);O.arrayOfPoints.push(n)}}(O.numberofPoints),function(e,t){for(var n=0;n<t;n++)e(n).setAttribute("data-value",n)}(r,O.numberofPoints);var P=function(e){return u(e),e.ctrlKey?i(e):O.arrayOfPoints[e.target.dataset.value].isFlag?f(e):(O.minesDropped||b(),O.arrayOfPoints[e.target.dataset.value].isOpened?void 0:O.arrayOfPoints[e.target.dataset.value].isMine?void y():s(e))};R.gameFieldRef.addEventListener("click",P),R.menuButtonRef.addEventListener("click",l)}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.4a9f82d81af4ab641db2.js.map