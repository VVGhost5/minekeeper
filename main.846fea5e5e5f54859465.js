(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(t,e,a){},QfWi:function(t,e,a){"use strict";a.r(e),a.d(e,"arrayOfPoints",(function(){return M})),a.d(e,"numberofPoints",(function(){return x})),a.d(e,"bombsQuantity",(function(){return i})),a.d(e,"gameFieldRef",(function(){return c}));a("lYjL"),a("lmye"),a("L1EO");var n,i,s,o=function(){return Math.floor(Math.random()*Math.floor(M.length))},r=function t(){var e=o();return console.log("Случайное число - "+e),M[e].isMine?(console.log(o()+" Блять, тут мина !!! Делаю еще раз"),t()):(console.log("новое число - "+e),e)},l=function(){r(),M[r()].isMine=!0,console.log(M[r()].position+" тут мина")},u=function(t,e,a,n,i,s){this.position=t,this.value=e,this.isMine=a,this.isFlag=n,this.isOpened=i,this.isDefused=s},d=function(t){var e={LeftTop:t.position-21,CenterTop:t.position-20,RightTop:t.position-19,LeftCenter:t.position-1,RightCenter:t.position+1,LeftBottom:t.position+19,CenterBottom:t.position+20,RightBottom:t.position+21},a=function(t){M[t]&&(M[t].isMine||M[t].value++)};t.position%20==0||t.position-1==0?(a(e.CenterTop),a(e.RightTop),a(e.RightCenter),a(e.CenterBottom),a(e.RightBottom)):(a(e.LeftTop),a(e.CenterTop),a(e.RightTop),a(e.LeftCenter),a(e.RightCenter),a(e.LeftBottom),a(e.CenterBottom),a(e.RightBottom))},c=document.querySelector(".game-field"),v=document.querySelector(".menu"),g=v.querySelector(".menu__status"),f=v.querySelector(".menu__timer"),p=v.querySelector(".menu__prompt-button"),h=v.querySelector("#menu__mines-select"),m=v.querySelector(".menu__flags"),L=0,C=[],b=[],y=!1,x=220,M=[],R=0;g.textContent="";!function(t){for(var e=0;e<t;e++){var a=new u(e,0,!1,!1,!1,!1);M.push(a)}}(x),function(t,e){for(var a=0;a<e;a++)t(a).setAttribute("data-value",a)}((function(){return s=document.createElement("div"),c.appendChild(s),s.classList.add("point"),s}),x);var _=function(){n=setInterval((function(){L++,f.textContent=L,C.length===b.length&&(clearInterval(n),g.textContent="You win !",c.removeEventListener("click",w))}),1e3)},w=function(t){return function(t){M[t.target.dataset.value].isDefused&&(M[t.target.dataset.value].isDefused=!1,C.pop())}(t),t.ctrlKey?function(t){if(!M[t.target.dataset.value].isFlag&&!M[t.target.dataset.value].isOpened&&!(R>=b.length)&&(c.children[t.target.dataset.value].textContent="F",M[t.target.dataset.value].isFlag=!0,R++,m.textContent=R,M[t.target.dataset.value].isFlag&&M[t.target.dataset.value].isMine)){if(M[t.target.dataset.value].isDefused)return;return C.push(M[t.target.dataset.value]),void(M[t.target.dataset.value].isDefused=!0)}}(t):M[t.target.dataset.value].isFlag?(M[t.target.dataset.value].isFlag=!1,R--,m.textContent=R,c.children[t.target.dataset.value].textContent=""):(y||(i=h.value,h.setAttribute("disabled","disabled"),function(t,e){for(var a=0;a<e;a++)t(a)}(l,i),(b=M.filter((function(t){return!0===t.isMine}))).map((function(t){d(t)})),y=!0,_()),M[t.target.dataset.value].isOpened?void 0:M[t.target.dataset.value].isMine?(clearInterval(n),b.map((function(t){c.children[t.position].classList.add("isBomb")})),g.textContent="You lose !",void c.removeEventListener("click",w)):(c.children[t.target.dataset.value].classList.add("isOpened"),M[t.target.dataset.value].isOpened=!0,function(t){c.children[t.target.dataset.value].textContent=M[t.target.dataset.value].value,1===M[t.target.dataset.value].value&&c.children[t.target.dataset.value].classList.add("one"),2===M[t.target.dataset.value].value&&c.children[t.target.dataset.value].classList.add("two"),3===M[t.target.dataset.value].value&&c.children[t.target.dataset.value].classList.add("three"),4===M[t.target.dataset.value].value&&c.children[t.target.dataset.value].classList.add("four"),5===M[t.target.dataset.value].value&&c.children[t.target.dataset.value].classList.add("five"),6===M[t.target.dataset.value].value&&c.children[t.target.dataset.value].classList.add("six"),7===M[t.target.dataset.value].value&&c.children[t.target.dataset.value].classList.add("seven"),8===M[t.target.dataset.value].value&&c.children[t.target.dataset.value].classList.add("eight")}(t)))};c.addEventListener("click",w),p.addEventListener("click",(function(){alert("Чтобы поставить флаг, нажмите Ctrl + ЛКМ")}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.846fea5e5e5f54859465.js.map